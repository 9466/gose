词频 TF(Term Frequency)
逆文档频率(IDF) = log10( 语料库的文档总数 / (包含该词的文档数) +1 )


计算词频(TF)

词频(TF) = 某个词在文章中的出现次数

考虑到文章有长短之分，为了便于不同文章的比较，进行"词频"标准化或归一化处理。

词频(TF) = 某个词在文章中的出现次数 / 文章的总词数



计算 TF-IDF


TF-IDF = 词频(TF) * 逆文档频率(IDF)

可以看到，TF-IDF与一个词在文档中的出现次数成正比，与该词在整个语言中的出现次数成反比。

所以，自动提取关键词的算法就很清楚了，就是计算出文档的每个词的TF-IDF值，然后按降序排列，取排在最前面的几个词。


那么搜索引擎根据关键词搜索文档，只要找到那些针对这个关键词的TF-IDF值最高的文档即可。(多个关键词可以累加TF-IDF值)


对网页库中的每个网页标号为1,2,3，.....

对每个网页进行分词，按如下形式存储每个关键词的信息：

词1 网页1 TF-IDF值1  网页2 TF-IDF值2  网页3 TF-IDF值3 ......
词2 网页1 TF-IDF值1  网页2 TF-IDF值2  网页3 TF-IDF值3 ......
......


将这些信息保存sqlite3数据库中，数据库名为 tfidf.db ， 只有一个表为 data(word docid tfidf) 。


config.data配置文件的说明参考 calculate-idf 的说明，只是这里不是作为语料库，而是作为网页库。


事实上该过程也得到了倒排索引。

TF-IDF算法的优点是简单快速，结果比较符合实际情况。缺点是，单纯以"词频"衡量一个词的重要性，不够全面，有时重要的词可能出现次数并不多。
而且，这种算法无法体现词的位置信息，出现位置靠前的词与出现位置靠后的词，都被视为重要性相同，这是不正确的。
（一种解决方法是，对全文的第一段和每一段的第一句话，给予较大的权重。）
这里采用的方法是将标题提取出来，标题里面包含的关键词的次数以5倍计算，因为一篇文章的关键内容一般都在标题中体现了出来。







